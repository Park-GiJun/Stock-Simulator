{
  "annotations": { "list": [{ "builtIn": 1, "datasource": { "type": "grafana", "uid": "-- Grafana --" }, "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "type": "dashboard" }] },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "id": null,
  "links": [{ "asDropdown": true, "icon": "external link", "includeVars": false, "keepTime": true, "tags": ["stocksim"], "targetBlank": true, "title": "Stock Simulator Dashboards", "type": "dashboards" }],
  "liveNow": false,
  "panels": [
    { "collapsed": false, "gridPos": { "h": 1, "w": 24, "x": 0, "y": 0 }, "id": 1, "panels": [], "title": "üöÄ Backend Services Overview", "type": "row" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "thresholds" }, "thresholds": { "mode": "absolute", "steps": [{ "color": "red", "value": null }, { "color": "green", "value": 1 }] }, "unit": "short" } }, "gridPos": { "h": 4, "w": 3, "x": 0, "y": 1 }, "id": 2, "options": { "colorMode": "value", "graphMode": "area", "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false }, "textMode": "auto" }, "targets": [{ "expr": "count(up{job=~\".*-service|api-gateway|eureka-server\"} == 1) or vector(0)", "refId": "A" }], "title": "Services Up", "type": "stat" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "thresholds" }, "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }, { "color": "red", "value": 1 }] }, "unit": "short" } }, "gridPos": { "h": 4, "w": 3, "x": 3, "y": 1 }, "id": 3, "options": { "colorMode": "value", "graphMode": "area", "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false }, "textMode": "auto" }, "targets": [{ "expr": "count(up{job=~\".*-service|api-gateway|eureka-server\"} == 0) or vector(0)", "refId": "A" }], "title": "Services Down", "type": "stat" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "thresholds" }, "thresholds": { "mode": "absolute", "steps": [{ "color": "blue", "value": null }] }, "unit": "reqps" } }, "gridPos": { "h": 4, "w": 3, "x": 6, "y": 1 }, "id": 4, "options": { "colorMode": "value", "graphMode": "area", "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false }, "textMode": "auto" }, "targets": [{ "expr": "sum(rate(http_server_requests_seconds_count{job=~\".*-service|api-gateway\"}[1m])) or vector(0)", "refId": "A" }], "title": "Total RPS", "type": "stat" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "thresholds" }, "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }, { "color": "yellow", "value": 100 }, { "color": "red", "value": 500 }] }, "unit": "ms" } }, "gridPos": { "h": 4, "w": 3, "x": 9, "y": 1 }, "id": 5, "options": { "colorMode": "value", "graphMode": "area", "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false }, "textMode": "auto" }, "targets": [{ "expr": "histogram_quantile(0.95, sum(rate(http_server_requests_seconds_bucket{job=~\".*-service|api-gateway\"}[5m])) by (le)) * 1000 or vector(0)", "refId": "A" }], "title": "Latency p95", "type": "stat" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "thresholds" }, "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }, { "color": "red", "value": 0.01 }] }, "unit": "percentunit", "decimals": 2 } }, "gridPos": { "h": 4, "w": 3, "x": 12, "y": 1 }, "id": 6, "options": { "colorMode": "value", "graphMode": "area", "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false }, "textMode": "auto" }, "targets": [{ "expr": "sum(rate(http_server_requests_seconds_count{job=~\".*-service|api-gateway\",status=~\"5..\"}[5m])) / sum(rate(http_server_requests_seconds_count{job=~\".*-service|api-gateway\"}[5m])) or vector(0)", "refId": "A" }], "title": "Error Rate", "type": "stat" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "thresholds" }, "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }, { "color": "red", "value": 1 }] }, "unit": "short" } }, "gridPos": { "h": 4, "w": 3, "x": 15, "y": 1 }, "id": 7, "options": { "colorMode": "value", "graphMode": "area", "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false }, "textMode": "auto" }, "targets": [{ "expr": "sum(rate(http_server_requests_seconds_count{job=~\".*-service|api-gateway\",status=~\"5..\"}[5m])) or vector(0)", "refId": "A" }], "title": "5xx/s", "type": "stat" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "thresholds" }, "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }, { "color": "yellow", "value": 1 }, { "color": "red", "value": 10 }] }, "unit": "short" } }, "gridPos": { "h": 4, "w": 3, "x": 18, "y": 1 }, "id": 8, "options": { "colorMode": "value", "graphMode": "area", "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false }, "textMode": "auto" }, "targets": [{ "expr": "sum(rate(http_server_requests_seconds_count{job=~\".*-service|api-gateway\",status=~\"4..\"}[5m])) or vector(0)", "refId": "A" }], "title": "4xx/s", "type": "stat" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "thresholds" }, "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }, { "color": "yellow", "value": 100 }, { "color": "red", "value": 1000 }] }, "unit": "short" } }, "gridPos": { "h": 4, "w": 3, "x": 21, "y": 1 }, "id": 9, "options": { "colorMode": "value", "graphMode": "area", "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false }, "textMode": "auto" }, "targets": [{ "expr": "sum(kafka_consumergroup_lag) or vector(0)", "refId": "A" }], "title": "Kafka Lag", "type": "stat" },
    { "collapsed": false, "gridPos": { "h": 1, "w": 24, "x": 0, "y": 5 }, "id": 10, "panels": [], "title": "üìä Service Status Matrix", "type": "row" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "thresholds" }, "custom": { "align": "center", "cellOptions": { "type": "auto" } }, "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }] } }, "overrides": [{ "matcher": { "id": "byName", "options": "Status" }, "properties": [{ "id": "custom.width", "value": 70 }, { "id": "mappings", "value": [{ "options": { "0": { "color": "red", "text": "DOWN" }, "1": { "color": "green", "text": "UP" } }, "type": "value" }] }, { "id": "custom.cellOptions", "value": { "type": "color-background" } }] }, { "matcher": { "id": "byName", "options": "RPS" }, "properties": [{ "id": "unit", "value": "reqps" }, { "id": "decimals", "value": 2 }] }, { "matcher": { "id": "byName", "options": "Latency p95" }, "properties": [{ "id": "unit", "value": "ms" }, { "id": "thresholds", "value": { "mode": "absolute", "steps": [{ "color": "green", "value": null }, { "color": "yellow", "value": 100 }, { "color": "red", "value": 500 }] } }, { "id": "custom.cellOptions", "value": { "type": "color-text" } }] }, { "matcher": { "id": "byName", "options": "Error %" }, "properties": [{ "id": "unit", "value": "percentunit" }, { "id": "decimals", "value": 2 }, { "id": "thresholds", "value": { "mode": "absolute", "steps": [{ "color": "green", "value": null }, { "color": "yellow", "value": 0.01 }, { "color": "red", "value": 0.05 }] } }, { "id": "custom.cellOptions", "value": { "type": "color-text" } }] }, { "matcher": { "id": "byName", "options": "CPU" }, "properties": [{ "id": "unit", "value": "percentunit" }, { "id": "decimals", "value": 1 }, { "id": "thresholds", "value": { "mode": "absolute", "steps": [{ "color": "green", "value": null }, { "color": "yellow", "value": 0.7 }, { "color": "red", "value": 0.9 }] } }, { "id": "custom.cellOptions", "value": { "type": "color-text" } }] }, { "matcher": { "id": "byName", "options": "Heap" }, "properties": [{ "id": "unit", "value": "bytes" }] }, { "matcher": { "id": "byName", "options": "Threads" }, "properties": [{ "id": "unit", "value": "short" }] }] }, "gridPos": { "h": 9, "w": 24, "x": 0, "y": 6 }, "id": 11, "options": { "showHeader": true, "cellHeight": "sm", "sortBy": [{ "displayName": "Service" }] }, "targets": [{ "expr": "up{job=~\".*-service|api-gateway|eureka-server\"}", "format": "table", "instant": true, "refId": "status" }, { "expr": "sum(rate(http_server_requests_seconds_count{job=~\".*-service|api-gateway|eureka-server\"}[5m])) by (job)", "format": "table", "instant": true, "refId": "rps" }, { "expr": "histogram_quantile(0.95, sum(rate(http_server_requests_seconds_bucket{job=~\".*-service|api-gateway|eureka-server\"}[5m])) by (job, le)) * 1000", "format": "table", "instant": true, "refId": "latency" }, { "expr": "sum(rate(http_server_requests_seconds_count{job=~\".*-service|api-gateway|eureka-server\",status=~\"5..\"}[5m])) by (job) / sum(rate(http_server_requests_seconds_count{job=~\".*-service|api-gateway|eureka-server\"}[5m])) by (job)", "format": "table", "instant": true, "refId": "error" }, { "expr": "process_cpu_usage{job=~\".*-service|api-gateway|eureka-server\"}", "format": "table", "instant": true, "refId": "cpu" }, { "expr": "sum(jvm_memory_used_bytes{job=~\".*-service|api-gateway|eureka-server\", area=\"heap\"}) by (job)", "format": "table", "instant": true, "refId": "heap" }, { "expr": "jvm_threads_live_threads{job=~\".*-service|api-gateway|eureka-server\"}", "format": "table", "instant": true, "refId": "threads" }], "title": "All Services Status", "transformations": [{ "id": "seriesToColumns", "options": { "byField": "job" } }, { "id": "organize", "options": { "excludeByName": { "Time": true, "__name__": true, "instance": true, "area": true, "id": true, "le": true }, "renameByName": { "job": "Service", "Value #status": "Status", "Value #rps": "RPS", "Value #latency": "Latency p95", "Value #error": "Error %", "Value #cpu": "CPU", "Value #heap": "Heap", "Value #threads": "Threads" } } }], "type": "table" },
    { "collapsed": false, "gridPos": { "h": 1, "w": 24, "x": 0, "y": 15 }, "id": 20, "panels": [], "title": "üåê API Gateway", "type": "row" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "reqps" } }, "gridPos": { "h": 8, "w": 12, "x": 0, "y": 16 }, "id": 21, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "sum(rate(http_server_requests_seconds_count{job=\"api-gateway\"}[1m])) by (uri)", "legendFormat": "{{uri}}", "refId": "A" }], "title": "Gateway Request Rate by Route", "type": "timeseries" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "ms" } }, "gridPos": { "h": 8, "w": 12, "x": 12, "y": 16 }, "id": 22, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "histogram_quantile(0.95, sum(rate(http_server_requests_seconds_bucket{job=\"api-gateway\"}[5m])) by (uri, le)) * 1000", "legendFormat": "{{uri}} p95", "refId": "A" }], "title": "Gateway Latency by Route (p95)", "type": "timeseries" },
    { "collapsed": false, "gridPos": { "h": 1, "w": 24, "x": 0, "y": 24 }, "id": 30, "panels": [], "title": "üì® Kafka Messaging", "type": "row" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "short" } }, "gridPos": { "h": 8, "w": 12, "x": 0, "y": 25 }, "id": 31, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "kafka_consumergroup_lag", "legendFormat": "{{consumergroup}} - {{topic}}", "refId": "A" }], "title": "Consumer Lag by Group", "type": "timeseries" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "short" } }, "gridPos": { "h": 8, "w": 12, "x": 12, "y": 25 }, "id": 32, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "rate(kafka_topic_partition_current_offset[5m])", "legendFormat": "{{topic}}", "refId": "A" }], "title": "Messages/s by Topic", "type": "timeseries" },
    { "collapsed": false, "gridPos": { "h": 1, "w": 24, "x": 0, "y": 33 }, "id": 40, "panels": [], "title": "üîó ${service} - Detailed Metrics", "type": "row" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "reqps" } }, "gridPos": { "h": 8, "w": 12, "x": 0, "y": 34 }, "id": 41, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "sum(rate(http_server_requests_seconds_count{job=\"$service\"}[1m])) by (uri, method)", "legendFormat": "{{method}} {{uri}}", "refId": "A" }], "title": "Endpoint Request Rate (${service})", "type": "timeseries" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "ms" } }, "gridPos": { "h": 8, "w": 12, "x": 12, "y": 34 }, "id": 42, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "histogram_quantile(0.50, sum(rate(http_server_requests_seconds_bucket{job=\"$service\"}[5m])) by (le)) * 1000", "legendFormat": "p50", "refId": "A" }, { "expr": "histogram_quantile(0.90, sum(rate(http_server_requests_seconds_bucket{job=\"$service\"}[5m])) by (le)) * 1000", "legendFormat": "p90", "refId": "B" }, { "expr": "histogram_quantile(0.95, sum(rate(http_server_requests_seconds_bucket{job=\"$service\"}[5m])) by (le)) * 1000", "legendFormat": "p95", "refId": "C" }, { "expr": "histogram_quantile(0.99, sum(rate(http_server_requests_seconds_bucket{job=\"$service\"}[5m])) by (le)) * 1000", "legendFormat": "p99", "refId": "D" }], "title": "Latency Percentiles (${service})", "type": "timeseries" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "bars", "fillOpacity": 80, "stacking": { "mode": "normal" } }, "unit": "reqps" }, "overrides": [{ "matcher": { "id": "byRegexp", "options": "2.." }, "properties": [{ "id": "color", "value": { "fixedColor": "green", "mode": "fixed" } }] }, { "matcher": { "id": "byRegexp", "options": "4.." }, "properties": [{ "id": "color", "value": { "fixedColor": "yellow", "mode": "fixed" } }] }, { "matcher": { "id": "byRegexp", "options": "5.." }, "properties": [{ "id": "color", "value": { "fixedColor": "red", "mode": "fixed" } }] }] }, "gridPos": { "h": 8, "w": 12, "x": 0, "y": 42 }, "id": 43, "options": { "legend": { "displayMode": "list", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "sum(rate(http_server_requests_seconds_count{job=\"$service\"}[5m])) by (status)", "legendFormat": "{{status}}", "refId": "A" }], "title": "HTTP Status Distribution (${service})", "type": "timeseries" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "ms" } }, "gridPos": { "h": 8, "w": 12, "x": 12, "y": 42 }, "id": 44, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "histogram_quantile(0.95, sum(rate(http_server_requests_seconds_bucket{job=\"$service\"}[5m])) by (uri, le)) * 1000", "legendFormat": "{{uri}}", "refId": "A" }], "title": "Endpoint Latency (${service})", "type": "timeseries" },
    { "collapsed": false, "gridPos": { "h": 1, "w": 24, "x": 0, "y": 50 }, "id": 50, "panels": [], "title": "‚òï JVM Memory & GC", "type": "row" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "bytes" } }, "gridPos": { "h": 8, "w": 12, "x": 0, "y": 51 }, "id": 51, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "sum(jvm_memory_used_bytes{job=~\".*-service|api-gateway|eureka-server\", area=\"heap\"}) by (job)", "legendFormat": "{{job}}", "refId": "A" }], "title": "JVM Heap by Service", "type": "timeseries" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "bytes" } }, "gridPos": { "h": 8, "w": 12, "x": 12, "y": 51 }, "id": 52, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "jvm_memory_used_bytes{job=\"$service\", area=\"heap\"}", "legendFormat": "{{id}} Used", "refId": "A" }, { "expr": "jvm_memory_max_bytes{job=\"$service\", area=\"heap\"}", "legendFormat": "{{id}} Max", "refId": "B" }], "title": "JVM Heap (${service})", "type": "timeseries" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "s" } }, "gridPos": { "h": 8, "w": 12, "x": 0, "y": 59 }, "id": 53, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "rate(jvm_gc_pause_seconds_sum{job=\"$service\"}[5m])", "legendFormat": "{{action}} {{cause}}", "refId": "A" }], "title": "GC Pause Time (${service})", "type": "timeseries" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "short" } }, "gridPos": { "h": 8, "w": 12, "x": 12, "y": 59 }, "id": 54, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "jvm_threads_live_threads{job=\"$service\"}", "legendFormat": "Live", "refId": "A" }, { "expr": "jvm_threads_daemon_threads{job=\"$service\"}", "legendFormat": "Daemon", "refId": "B" }, { "expr": "jvm_threads_peak_threads{job=\"$service\"}", "legendFormat": "Peak", "refId": "C" }], "title": "JVM Threads (${service})", "type": "timeseries" },
    { "collapsed": false, "gridPos": { "h": 1, "w": 24, "x": 0, "y": 67 }, "id": 60, "panels": [], "title": "üíª CPU & Process", "type": "row" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "percentunit", "max": 1 } }, "gridPos": { "h": 8, "w": 12, "x": 0, "y": 68 }, "id": 61, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "process_cpu_usage{job=~\".*-service|api-gateway|eureka-server\"}", "legendFormat": "{{job}}", "refId": "A" }], "title": "CPU by Service", "type": "timeseries" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "percentunit", "max": 1 } }, "gridPos": { "h": 8, "w": 12, "x": 12, "y": 68 }, "id": 62, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "process_cpu_usage{job=\"$service\"}", "legendFormat": "Process", "refId": "A" }, { "expr": "system_cpu_usage{job=\"$service\"}", "legendFormat": "System", "refId": "B" }], "title": "CPU (${service})", "type": "timeseries" },
    { "collapsed": false, "gridPos": { "h": 1, "w": 24, "x": 0, "y": 76 }, "id": 70, "panels": [], "title": "üîå Database Connection Pools", "type": "row" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "short" } }, "gridPos": { "h": 8, "w": 12, "x": 0, "y": 77 }, "id": 71, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "hikaricp_connections_active{job=\"$service\"}", "legendFormat": "Active", "refId": "A" }, { "expr": "hikaricp_connections_idle{job=\"$service\"}", "legendFormat": "Idle", "refId": "B" }, { "expr": "hikaricp_connections_pending{job=\"$service\"}", "legendFormat": "Pending", "refId": "C" }, { "expr": "hikaricp_connections_max{job=\"$service\"}", "legendFormat": "Max", "refId": "D" }], "title": "HikariCP Connections (${service})", "type": "timeseries" },
    { "datasource": { "type": "prometheus", "uid": "${datasource}" }, "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "fillOpacity": 20, "lineInterpolation": "smooth", "lineWidth": 2, "showPoints": "never" }, "unit": "ms" } }, "gridPos": { "h": 8, "w": 12, "x": 12, "y": 77 }, "id": 72, "options": { "legend": { "calcs": ["mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "desc" } }, "targets": [{ "expr": "hikaricp_connections_acquire_seconds_max{job=\"$service\"} * 1000", "legendFormat": "Acquire", "refId": "A" }, { "expr": "hikaricp_connections_creation_seconds_max{job=\"$service\"} * 1000", "legendFormat": "Creation", "refId": "B" }], "title": "Connection Times (${service})", "type": "timeseries" }
  ],
  "refresh": "30s",
  "schemaVersion": 38,
  "tags": ["stocksim", "backend"],
  "templating": {
    "list": [
      { "current": { "selected": false, "text": "Prometheus", "value": "prometheus" }, "hide": 0, "includeAll": false, "label": "Data Source", "multi": false, "name": "datasource", "options": [], "query": "prometheus", "refresh": 1, "type": "datasource" },
      { "current": { "selected": true, "text": "user-service", "value": "user-service" }, "hide": 0, "includeAll": false, "label": "Service", "multi": false, "name": "service", "options": [], "query": "label_values(up{job=~\".*-service|api-gateway|eureka-server\"}, job)", "refresh": 2, "type": "query" }
    ]
  },
  "time": { "from": "now-1h", "to": "now" },
  "timepicker": {},
  "timezone": "browser",
  "title": "Stock Simulator - Backend",
  "uid": "stocksim-backend",
  "version": 2,
  "weekStart": ""
}
