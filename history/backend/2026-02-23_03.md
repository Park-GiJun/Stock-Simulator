# 2026-02-23_03: 주식 발행수 축소 및 프론트엔드 뉴스 headline만 표시

## 변경 사항

### 1. 프론트엔드 뉴스 - headline만 표시
- 뉴스 모달에서 `content` 본문 표시 제거
- 모달 열 때 `getNewsById()` API 호출 제거 → 리스트 데이터 재사용

### 2. 주식 발행수(totalShares) 1/100 축소
- 기존: SMALL 10억~100억, MID 100억~1조, LARGE 1조~10조 시총
- 변경: SMALL 1천만~1억, MID 1억~10억, LARGE 10억~100억 시총
- `coerceAtLeast(100)` 추가로 최소 100주 보장

### 3. IPO 매도호가 설정 축소
- `price-levels`: 20 → 5 (호가 단계 수)
- `price-spread-percent`: 15% → 10% (가격 분산 범위)
- `ordersPerLevel`: 5 → 2 (호가 단계당 주문 수)
- 결과: IPO 당 매도 주문 수 ~100개 → ~10개

### 4. 기존 데이터 축소용 SQL 쿼리
- `reduce_market_maker_shares.sql` 작성
- MARKET_MAKER의 PENDING 매도 주문 수량 1/100으로 축소
- MARKET_MAKER 포트폴리오 보유수량 1/100으로 축소
- 실행 후 Redis orderbook 캐시 초기화 + 서비스 재시작 필요

## 수정 파일 목록
| 파일 | 변경 |
|------|------|
| `frontend/src/routes/(desktop)/news/+page.svelte` | 모달에서 content 제거, getNewsById 호출 제거 |
| `backend/event-service/.../handler/stock/StockListingHandler.kt` | totalShares 시총 범위 1/100 축소 |
| `backend/trading-service/.../handler/order/IpoDistributionHandler.kt` | ordersPerLevel 5→2 |
| `backend/trading-service/.../resources/application.yml` | price-levels 20→5, spread 15→10 |
| `backend/trading-service/.../resources/application-docker.yml` | 동일 |
| `backend/trading-service/.../resources/db/sql/reduce_market_maker_shares.sql` | 신규 - 기존 데이터 축소 쿼리 |

## 배포 시 필요 작업
1. `reduce_market_maker_shares.sql` 실행 (trading-service 중지 상태에서)
2. Redis orderbook 캐시 초기화: `redis-cli -a stocksim123 -p 6380 KEYS "orderbook:*" | xargs redis-cli -a stocksim123 -p 6380 DEL`
3. event-service, trading-service 재빌드 및 재배포
4. 프론트엔드 재빌드
