# 2026-02-23_05: NPC/기관 자동매매 상시 전체 종목 대상으로 변경

## 변경 사항

### 1. 트레이딩 스케줄러 주기 단축 (5분/10분 → 1분)
- `NpcTradingScheduler`: 5분 → 1분 (60,000ms)
- `InstitutionTradingScheduler`: 10분 → 1분 (60,000ms)

### 2. tradingFrequency 확률 스킵 제거
- `NpcTradingHandler`: 개별 NPC의 tradingFrequency 기반 확률 판정 제거, 모든 NPC가 매 트리거마다 매매 실행
- `InstitutionTradingHandler`: 동일하게 확률 스킵 제거, 모든 기관이 매 트리거마다 매매 실행

### 3. 전체 종목 대상 매매로 변경
- 선호 섹터 종목만 조회 → 전체 상장 종목 100개 조회로 변경
- `StockCandidateQueryPort`에 `getAllStocks(maxCount)` 메서드 추가
- `StockCandidateQueryAdapter`에 전체 종목 조회 구현 (sector=null)
- 전체 종목/뉴스를 루프 밖에서 1회만 조회하여 성능 최적화

### 4. 매수/매도 확률 대폭 상향 (HOLD 최소화)
- 매수+매도 확률 합계를 ~95%로 상향 (기존 ~50~65%)
- AGGRESSIVE: 매수 60%, 매도 35% (HOLD 5%)
- STABLE: 매수 45%, 매도 45% (HOLD 10%)
- VALUE: 매수 50%, 매도 40% (HOLD 10%)
- 보유 종목 없으면 매수 95%, 현금 없으면 매도 95%

## 수정 파일 목록
| 파일 | 변경 |
|------|------|
| `backend/scheduler-service/.../scheduler/NpcTradingScheduler.kt` | fixedRate 300,000 → 60,000 |
| `backend/scheduler-service/.../scheduler/InstitutionTradingScheduler.kt` | fixedRate 600,000 → 60,000 |
| `backend/event-service/.../handler/trading/NpcTradingHandler.kt` | 확률 스킵 제거, 전체 종목 조회, 뉴스 1회 조회 |
| `backend/event-service/.../handler/trading/InstitutionTradingHandler.kt` | 확률 스킵 제거, 전체 종목 조회, 뉴스 1회 조회 |
| `backend/event-service/.../port/out/trading/StockCandidateQueryPort.kt` | getAllStocks() 메서드 추가 |
| `backend/event-service/.../client/adapter/StockCandidateQueryAdapter.kt` | getAllStocks() 구현 |
| `backend/event-service/.../generator/TradingDecisionGeneratorWithLLM.kt` | 매수/매도 확률 대폭 상향 |
